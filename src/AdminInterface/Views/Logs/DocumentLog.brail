<% 
	[Html]
	def WriteAddition(log) as string:
		if log.Addition == null:
			return ""
		else:
			return log.Addition
		end
	end
%>
<div class="PageHeader">
	Статистика получения\отправки документов клиента ${client.ShortName}
</div>

<% 
	OutputSubView("SelectDateIntervalSubView")
%>

<div>

	<table class="DataTable">
	<%
		if logEntities.Count != 0:
	%>
		<tr>
			<th>
				Номер документа
			</th>
			<th>
				Дата получения
			</th>
			<th>
				Тип документа
			</th>
		<% 
			if client.IsDrugStore():
		%>
			<th>
				От поставщика
			</th>
		<%
			else:
		%>
			<th>
				Для аптеки
			</th>
		<%
			end
		%>
			<th>
				Название файла
			</th>
			<th>
				Размер
			</th>
			<th>
				Дата отправки
			</th>
			<th>
				Комментарий
			</th>
		</tr>
	<%
		i = 0
		for logEntity in logEntities:
	%>
		<tr class="${ViewHelper.GetRowStyle(i)}">
			<td>
				${logEntity.Id}
			</td>
			<td>
				${logEntity.LogTime}
			</td>
			<td>
				${BindingHelper.GetDescription(logEntity.DocumentType)}
			</td>
		<% 
			if client.IsDrugStore():
		%>
				<td>
					${logEntity.FromSupplier.ShortName if logEntity.FromSupplier != null}	
				</td>
		<%
			else:
		%>
				<td>
					${logEntity.ForClient.ShortName if logEntity.ForClient != null}
				</td>
		<% 
			end
		%>
			<td>
				${logEntity.FileName}
			</td>
			<td>
				${ViewHelper.ConvertToUserFriendlySize(logEntity.DocumentSize)}
			</td>
			<td>
				${logEntity.UpdateLogEntity.RequestTime if logEntity.UpdateLogEntity != null}
			</td>
			<td>
				<pre>${WriteAddition(logEntity)}</pre>
			</td>
		</tr>
	<%		
			i++
		end
		else:
	%>
		<tr class="EmptyData">
			<td>
				За указанный период документов не найдено
			</td>
		</tr>
	<%
		end
	%>
	</table>

</div>
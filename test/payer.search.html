<html>
	<head>
			<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
			<script src="http://code.jquery.com/jquery-latest.js"></script>
			<script src="http://code.jquery.com/qunit/git/qunit.js"></script>
			<script src="../src/AdminInterface/JavaScript/coffee-script.js"></script>
			<script src="../src/AdminInterface/JavaScript/payer.search.js"></script>
			<link rel="stylesheet" href="http://code.jquery.com/qunit/git/qunit.css"></link>
	</head>
	<body>
		<script type="text/coffeescript">
			$ ->
				$.extend
					get: (url, data, callback) ->
						run = () ->  callback([])
						setTimeout run, 100

				test "hide not found message", ->
					$("#PayerExists").attr("checked", "checked")
					$("#PayerExists").click()

					$("#SearchPayerTextPattern").val("тест")
					$("#SearchPayerButton").click()
					afterClick = ->
						equal $("#MessageForPayer").text(), "Ничего не найдено", "ничего не найдено"
						$("#PayerExists").removeAttr("checked")
						$("#PayerExists").click()

						equal $("#MessageForPayer").text(), "", "сообщение должно быть пустым"
						start()

					setTimeout afterClick, 100
					stop()
		</script>
		<h1 id="qunit-header">QUnit example</h1>
		<h2 id="qunit-banner"></h2>
		<div id="qunit-testrunner-toolbar"></div>
		<h2 id="qunit-userAgent"></h2>
		<ol id="qunit-tests"></ol>
		<div id="qunit-fixture">test markup, will be hidden</div>
	</body>
	<table>
		<tr>
			<td width="50%">
				<input type="checkbox" id="PayerExists" onclick="OnPayerExistsChanged(this.checked)">Выбрать существующего плательщика</input>
				 <input type="hidden" id="PayerExistsValue" name="flags.PayerExists" value="false" />
			</td>
			<td>
				<div id="SearchPayerDiv" style="width: 100%; display: none">
					<input type="text" id="SearchPayerTextPattern" name="SearchPayerTextPattern" style="width: 75%" />
					<input type="button" id="SearchPayerButton" name="SearchPayerButton" value="Найти" onclick="ShowSelectPayerDiv()" />                        
				</div>
				<div id="SelectPayerDiv" style="width: 100%; display: none">
					<select id="PayerComboBox" name="payer.PayerID" style="width: 75%"></select>
					<input type="button" id="ResetPayerButton" name="ResetPayerButton" value="Сброс" onclick="ShowSearchPayerDiv()" />
				</div>
				<div id="MessageForPayer"></div>
				<input type="hidden" id="PayerIdValue" name="existingPayerId" />
			</td>
		</tr>
	</table>
</html>